<div class="fedex-landing">
  <!-- Top Navigation Bar -->
  <nav class="top-nav">
    <div class="container-fluid">
      <div class="row align-items-center">
        <div class="col-md-3">
          <div class="logo">
            <i class="fas fa-shipping-fast"></i>
            <span class="brand-name">Bangura<span class="brand-accent">Cargo</span></span>
          </div>
        </div>
        <div class="col-md-9">
          <div class="nav-actions">
            <button class="btn-nav" (click)="openLoginModal()">
              <i class="fas fa-sign-in-alt"></i> Log In
            </button>
            <button class="btn-nav btn-nav-primary" (click)="openRegisterModal()">
              <i class="fas fa-user-plus"></i> Sign Up
            </button>
            <!-- <div class="language-selector">
              <i class="fas fa-globe"></i> English
            </div> -->
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Navigation -->
  <nav class="main-nav">
    <div class="container-fluid">
      <ul class="nav-menu">
        <li class="nav-item">
          <a [routerLink]="['/shipping']" class="nav-link">
            <i class="fas fa-box"></i> Shipping
          </a>
          <div class="dropdown-menu">
            <a (click)="handleCreateShipment(); $event.preventDefault()" href="javascript:void(0)">Create a Shipment</a>
            <a [routerLink]="['/rates']">Shipping Rates & Delivery Times</a>
            <a [routerLink]="['/schedule-pickup']">Schedule and Manage Pickups</a>
          </div>
        </li>
        <li class="nav-item">
          <a (click)="openTrackingModal()" class="nav-link" style="cursor: pointer;">
            <i class="fas fa-search-location"></i> Tracking
          </a>
        </li>
        <li class="nav-item">
          <a [routerLink]="['/returns']" class="nav-link">
            <i class="fas fa-undo"></i> Returns
          </a>
          <div class="dropdown-menu">
            <a [routerLink]="['/manage-return']">Manage a Return</a>
            <a [routerLink]="['/return-policy']">Return Policy</a>
          </div>
        </li>
        <li class="nav-item">
          <a [routerLink]="['/international']" class="nav-link">
            <i class="fas fa-globe-americas"></i> International
          </a>
          <div class="dropdown-menu">
            <a [routerLink]="['/international-guide']">International Shipping Guide</a>
            <a [routerLink]="['/customs']">Customs Information</a>
          </div>
        </li>
        <li class="nav-item">
          <a [routerLink]="['/support']" class="nav-link">
            <i class="fas fa-headset"></i> Support
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <h1 class="hero-title">Ship Smarter, Deliver Faster</h1>
          <p class="hero-subtitle">Reliable international shipping solutions for your business and personal needs</p>
          
          <!-- Quick Actions -->
          <div class="quick-actions">
    
            <div class="action-card" [routerLink]="['/rates']">
              <i class="fas fa-calculator"></i>
              <h3>Get Rates</h3>
              <p>Compare prices</p>
            </div>
            <div class="action-card" (click)="handleSchedulePickup()" style="cursor: pointer;">
              <i class="fas fa-calendar-check"></i>
              <h3>Schedule Pickup</h3>
              <p>Book collection</p>
            </div>
          </div>
        </div>
        <div class="col-lg-6">
          <!-- Tracking Widget -->
          <div class="tracking-widget">
            <h3><i class="fas fa-search"></i> Track Your Shipment</h3>
            <div class="tracking-form">
              <input type="text" 
                     class="form-control tracking-input" 
                     placeholder="Enter tracking number"
                     [(ngModel)]="trackingNumber">
              <button class="btn btn-track" (click)="trackShipment()">
                <i class="fas fa-arrow-right"></i> Track
              </button>
            </div>
            <div class="tracking-info">
              <small><i class="fas fa-info-circle"></i> Track up to 30 shipments at once</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="services-section">
    <div class="container">
      <h2 class="section-title">Our Services</h2>
      <div class="row g-4">
        <div class="col-md-3">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-shipping-fast"></i>
            </div>
            <h4>Express Shipping</h4>
            <p>Fast delivery within 1-3 business days</p>
            <a [routerLink]="['/rates']" class="service-link">Learn More <i class="fas fa-arrow-right"></i></a>
          </div>
        </div>
        <div class="col-md-3">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-globe"></i>
            </div>
            <h4>International</h4>
            <p>Ship to over 50 countries worldwide</p>
            <a [routerLink]="['/international-guide']" class="service-link">Learn More <i class="fas fa-arrow-right"></i></a>
          </div>
        </div>
        <div class="col-md-3">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-truck-loading"></i>
            </div>
            <h4>Freight Services</h4>
            <p>Heavy cargo and bulk shipments</p>
            <a [routerLink]="['/freight']" class="service-link">Learn More <i class="fas fa-arrow-right"></i></a>
          </div>
        </div>
        <div class="col-md-3">
          <div class="service-card">
            <div class="service-icon">
              <i class="fas fa-box-open"></i>
            </div>
            <h4>Packaging</h4>
            <p>Professional packaging solutions</p>
            <a [routerLink]="['/packaging']" class="service-link">Learn More <i class="fas fa-arrow-right"></i></a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section class="features-section">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6">
          <h2>Why Choose Bangura Cargo?</h2>
          <ul class="feature-list">
            <li><i class="fas fa-check-circle"></i> Real-time tracking on all shipments</li>
            <li><i class="fas fa-check-circle"></i> Competitive rates in SLL (Sierra Leone Leones)</li>
            <li><i class="fas fa-check-circle"></i> 24/7 customer support</li>
            <li><i class="fas fa-check-circle"></i> Secure and insured deliveries</li>
            <li><i class="fas fa-check-circle"></i> Easy returns and refunds</li>
            <li><i class="fas fa-check-circle"></i> Flexible pickup scheduling</li>
          </ul>
        </div>
        <div class="col-lg-6">
          <div class="stats-grid">
            <div class="stat-box">
              <h3>500+</h3>
              <p>Shipments Delivered</p>
            </div>
            <div class="stat-box">
              <h3>50+</h3>
              <p>Countries Served</p>
            </div>
            <div class="stat-box">
              <h3>98%</h3>
              <p>On-Time Delivery</p>
            </div>
            <div class="stat-box">
              <h3>24/7</h3>
              <p>Customer Support</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="row">
        <div class="col-md-3">
          <h5>Shipping</h5>
          <ul>
            <li><a (click)="handleCreateShipment(); $event.preventDefault()" href="javascript:void(0)">Create Shipment</a></li>
            <li><a [routerLink]="['/rates']">Rates & Times</a></li>
            <li><a [routerLink]="['/schedule-pickup']">Schedule Pickup</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>Support</h5>
          <ul>
            <li><a (click)="openTrackingModal()" style="cursor: pointer;">Track Shipment</a></li>
            <li><a [routerLink]="['/returns']">Returns</a></li>
            <li><a [routerLink]="['/contact']">Contact Us</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>International</h5>
          <ul>
            <li><a [routerLink]="['/international-guide']">Shipping Guide</a></li>
            <li><a [routerLink]="['/customs']">Customs Info</a></li>
            <li><a [routerLink]="['/countries']">Countries</a></li>
          </ul>
        </div>
        <div class="col-md-3">
          <h5>Contact</h5>
          <p><i class="fas fa-phone"></i> +232 76 543 210</p>
          <p><i class="fas fa-envelope"></i> info@banguracargo.com</p>
          <p><i class="fas fa-map-marker-alt"></i> Freetown, Sierra Leone</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 Bangura Cargo System. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <!-- Login Modal -->
  <div class="modal-overlay" *ngIf="showLoginModal" (click)="closeLoginModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="modal-close" (click)="closeLoginModal()">
        <i class="fas fa-times"></i>
      </button>
      
      <div class="login-modal-header">
        <div class="logo-container">
          <i class="fas fa-shipping-fast logo-icon"></i>
        </div>
        <h2 class="text-center mb-2">Bangura Cargo System</h2>
        <p class="text-center" style="color: #666">Sign in to your account</p>
      </div>
      
      <div class="login-modal-body">
        <form #loginForm="ngForm" (ngSubmit)="onLoginSubmit()">
          <div class="mb-3">
            <label class="form-label">
              <i class="fas fa-user-shield"></i> Login As
            </label>
            <select class="form-select form-select-lg" 
                    [(ngModel)]="selectedRole" 
                    name="role">
              <option value="SUPER_ADMIN">Super Admin</option>
              <option value="ADMIN">Admin</option>
              <option value="CUSTOMER">Customer</option>
            </select>
          </div>

          <div class="mb-3">
            <label class="form-label">
              <i class="fas fa-envelope"></i> Email Address
            </label>
            <input type="email" 
                   class="form-control form-control-lg" 
                   [(ngModel)]="credentials.email" 
                   name="email" 
                   placeholder="Enter your email">
          </div>

          <div class="mb-4">
            <label class="form-label">
              <i class="fas fa-lock"></i> Password
            </label>
            <input type="password" 
                   class="form-control form-control-lg" 
                   [(ngModel)]="credentials.password" 
                   name="password" 
                   placeholder="Enter your password">
          </div>

          <button type="submit" class="btn btn-primary btn-lg w-100 mb-3">
            <i class="fas fa-sign-in-alt"></i> Sign In
          </button>

          <div class="text-center">
            <p class="mb-0">Don't have an account? 
              <a (click)="closeLoginModal(); openRegisterModal()" class="text-primary fw-bold" style="cursor: pointer;">Register here</a>
            </p>
          </div>
        </form>

        <div class="demo-credentials mt-4">
          <p class="text-muted small mb-2"><i class="fas fa-info-circle"></i> NOTE:</p>
          <div class="credential-box">
            <strong>Be sure you choose your login level</strong>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Register Modal -->
  <div class="modal-overlay" *ngIf="showRegisterModal" (click)="closeRegisterModal()">
    <div class="modal-content modal-content-large" (click)="$event.stopPropagation()">
      <button class="modal-close" (click)="closeRegisterModal()">
        <i class="fas fa-times"></i>
      </button>
      
      <div class="register-modal-header">
        <div class="logo-container">
          <i class="fas fa-user-plus logo-icon"></i>
        </div>
        <h2 class="text-center mb-2">Create Your Account</h2>
        <p class="text-center" style="color: #666">Join Bangura Cargo System today</p>
      </div>
      
      <div class="register-modal-body">
        <form #registerForm="ngForm" (ngSubmit)="onRegisterSubmit()">
          <div class="mb-3">
            <label class="form-label">
              <i class="fas fa-user-tag"></i> Register As
            </label>
            <select class="form-select form-select-lg" 
                    [(ngModel)]="registerData.role" 
                    name="role">
              <option value="CUSTOMER">Customer</option>
              <option value="ADMIN">Admin</option>
            </select>
            <small class="text-muted">Select Admin if you want administrative privileges</small>
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">
                <i class="fas fa-user"></i> First Name
              </label>
              <input type="text" 
                     class="form-control form-control-lg" 
                     [(ngModel)]="registerData.firstName" 
                     name="firstName" 
                     placeholder="Enter first name">
            </div>

            <div class="col-md-6 mb-3">
              <label class="form-label">
                <i class="fas fa-user"></i> Last Name
              </label>
              <input type="text" 
                     class="form-control form-control-lg" 
                     [(ngModel)]="registerData.lastName" 
                     name="lastName" 
                     placeholder="Enter last name">
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">
              <i class="fas fa-envelope"></i> Email Address
            </label>
            <input type="email" 
                   class="form-control form-control-lg" 
                   [(ngModel)]="registerData.email" 
                   name="email" 
                   placeholder="Enter your email">
          </div>

          <div class="mb-3">
            <label class="form-label">
              <i class="fas fa-phone"></i> Contact Number
            </label>
            <input type="text" 
                   class="form-control form-control-lg" 
                   [(ngModel)]="registerData.contact" 
                   name="contact" 
                   placeholder="+23276111111">
            <small class="text-muted">Format: +232 followed by 8 digits (e.g., +23276111111)</small>
          </div>

          <div class="mb-3">
            <label class="form-label">
              <i class="fas fa-map-marker-alt"></i> Address
            </label>
            <textarea class="form-control" 
                      rows="3"
                      [(ngModel)]="registerData.address" 
                      name="address" 
                      placeholder="Enter your full address"></textarea>
          </div>

          <div class="mb-4">
            <label class="form-label">
              <i class="fas fa-lock"></i> Password
            </label>
            <input type="password" 
                   class="form-control form-control-lg" 
                   [(ngModel)]="registerData.password" 
                   name="password" 
                   placeholder="Create a strong password">
          </div>

          <button type="submit" class="btn btn-primary btn-lg w-100 mb-3">
            <i class="fas fa-user-plus"></i> Create Account
          </button>

          <div class="text-center">
            <p class="mb-0">Already have an account? 
              <a (click)="closeRegisterModal(); openLoginModal()" class="text-primary fw-bold" style="cursor: pointer;">Login here</a>
            </p>
          </div>
        </form>

        <div class="demo-credentials mt-4">
          <p class="text-muted small mb-2"><i class="fas fa-info-circle"></i> NOTE:</p>
          <div class="credential-box">
            <strong>Your account will be pending approval after registration</strong>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Tracking Modal -->
<div class="modal fade" [class.show]="showTrackingModal" [style.display]="showTrackingModal ? 'block' : 'none'" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title">
          <i class="bi bi-search"></i> Track Your Shipment
        </h5>
        <button type="button" class="btn-close btn-close-white" (click)="closeTrackingModal()"></button>
      </div>
      <div class="modal-body">
        <!-- Tracking Input -->
        <div class="mb-4" *ngIf="!trackingResult">
          <label class="form-label fw-bold">
            <i class="bi bi-box-seam"></i> Enter Tracking Number
          </label>
          <div class="input-group input-group-lg">
            <input type="text" 
                   class="form-control" 
                   [(ngModel)]="trackingNumber" 
                   placeholder="e.g., BC123456789"
                   (keyup.enter)="trackShipment()">
            <button class="btn btn-primary" 
                    (click)="trackShipment()"
                    [disabled]="isTrackingLoading">
              <span *ngIf="!isTrackingLoading">
                <i class="bi bi-search"></i> Track
              </span>
              <span *ngIf="isTrackingLoading">
                <span class="spinner-border spinner-border-sm me-2"></span> Tracking...
              </span>
            </button>
          </div>
          <small class="text-muted">
            <i class="bi bi-info-circle"></i> Enter your tracking number to see real-time shipment status
          </small>
        </div>

        <!-- Tracking Results -->
        <div *ngIf="trackingResult && !isTrackingLoading">
          <!-- Status Header -->
          <div class="alert alert-info d-flex align-items-center mb-4">
            <i class="bi bi-box-seam fs-3 me-3"></i>
            <div class="flex-grow-1">
              <h6 class="mb-1">Tracking Number: <strong>{{ trackingResult.trackingNumber }}</strong></h6>
              <div class="d-flex align-items-center gap-2">
                <span class="badge" 
                      [class.bg-warning]="trackingResult.status === 'REQUESTED'"
                      [class.bg-info]="trackingResult.status === 'APPROVED'"
                      [class.bg-primary]="trackingResult.status === 'IN_TRANSIT'"
                      [class.bg-success]="trackingResult.status === 'DELIVERED'">
                  {{ trackingResult.status }}
                </span>
              </div>
            </div>
          </div>

          <!-- Shipment Details -->
          <div class="row mb-4">
            <div class="col-md-4">
              <div class="tracking-detail-card">
                <i class="bi bi-geo-alt text-primary"></i>
                <h6>Origin</h6>
                <p>{{ trackingResult.origin }}</p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="tracking-detail-card">
                <i class="bi bi-geo text-success"></i>
                <h6>Destination</h6>
                <p>{{ trackingResult.destination }}</p>
              </div>
            </div>
            <div class="col-md-4">
              <div class="tracking-detail-card">
                <i class="bi bi-calendar-check text-info"></i>
                <h6>Est. Delivery</h6>
                <p>{{ trackingResult.estimatedDelivery | date:'mediumDate' }}</p>
              </div>
            </div>
          </div>

          <!-- Current Location -->
          <div class="alert alert-success mb-4">
            <h6 class="mb-2">
              <i class="bi bi-pin-map"></i> Current Location
            </h6>
            <p class="mb-0 fs-5">{{ trackingResult.currentLocation }}</p>
          </div>

          <!-- Tracking History -->
          <h6 class="mb-3">
            <i class="bi bi-clock-history"></i> Tracking History
          </h6>
          <div class="tracking-timeline">
            <div class="timeline-item" *ngFor="let item of trackingResult.history; let i = index" 
                 [class.completed]="item.completed"
                 [class.pending]="!item.completed">
              <div class="timeline-marker" 
                   [class.completed]="item.completed"
                   [class.pending]="!item.completed"></div>
              <div class="timeline-content">
                <div class="d-flex justify-content-between align-items-start">
                  <div>
                    <h6 class="mb-1" [class.text-muted]="!item.completed">
                      <i class="bi" [class.bi-check-circle-fill]="item.completed" [class.bi-clock]="!item.completed"></i>
                      {{ item.status }}
                    </h6>
                    <p class="text-muted mb-0">
                      <i class="bi bi-geo-alt"></i> {{ item.location }}
                    </p>
                  </div>
                  <div class="text-end">
                    <small class="text-muted">{{ item.date }}</small>
                    <br *ngIf="item.time">
                    <small class="text-muted" *ngIf="item.time">{{ item.time }}</small>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Track Another Button -->
          <div class="text-center mt-4">
            <button class="btn btn-outline-primary" (click)="trackingResult = null; trackingNumber = ''">
              <i class="bi bi-search"></i> Track Another Shipment
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal-backdrop fade" [class.show]="showTrackingModal" *ngIf="showTrackingModal" (click)="closeTrackingModal()"></div>
